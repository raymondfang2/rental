{"version":3,"sources":["web3.js","rental.js","App.js","reportWebVitals.js","index.js"],"names":["window","ethereum","request","method","web3","Web3","eth","Contract","App","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","owner1","owner2","owner1_bal","owner2_bal","value","message","loading","errorMessage","onSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","currentAccount","wrap","_context","prev","next","preventDefault","setState","givenProvider","selectedAddress","sent","rental","methods","payRental","send","from","utils","toWei","location","reload","t0","console","log","stop","_x","_createClass","key","_componentDidMount","_callee2","owners","owner1_bal_t","owner2_bal_t","_context2","getOwners","getBalance","fromWei","this","_this2","_jsx","children","_jsxs","Grid","padded","Row","Column","width","Table","Header","HeaderCell","Body","Cell","Form","error","Field","Input","label","labelPosition","onChange","target","Message","header","content","Button","primary","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0f95c507.chunk.js","sourcesContent":["import Web3 from \"web3\";\nwindow.ethereum.request({ method: \"eth_requestAccounts\" });\n\nconst web3 = new Web3(window.ethereum);\n\nexport default web3;\n","import web3 from './web3';\n\nconst address = '0x48488aC9EAdDD0639a70ac53B3d4108952A0Ae16'; //'0xa8caE7fCD1091764558B1D22B0bB9b44919bD848';\nconst abi = [\n    {\n        \"inputs\": [],\n        \"name\": \"payRental\",\n        \"outputs\": [],\n        \"stateMutability\": \"payable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address payable\",\n                \"name\": \"owner1\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"address payable\",\n                \"name\": \"owner2\",\n                \"type\": \"address\"\n            }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n    },\n    {\n        \"inputs\": [],\n        \"name\": \"getOwners\",\n        \"outputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    }\n];\n\nexport default new web3.eth.Contract(abi, address);\n","import React from \"react\";\nimport web3 from \"./web3\";\nimport rental from \"./rental\";\n\nimport {Button, Card, Form, Grid, Input, Message, Table} from 'semantic-ui-react'\nimport 'semantic-ui-css/semantic.min.css'\n\nclass App extends React.Component {\n  state = {\n    owner1: \"\",\n    owner2: \"\",\n    owner1_bal: \"\",\n    owner2_bal: \"\",\n    value: \"\",\n    message: \"\",\n    loading: false,\n    errorMessage: ''\n  };\n  async componentDidMount() {\n    console.log(\"=====>getOwners\")\n    const owners = await  rental.methods.getOwners().call();\n    const owner1 = owners[0];\n    const owner2 = owners[1];\n    const owner1_bal_t = await web3.eth.getBalance(owner1);\n    const owner2_bal_t = await web3.eth.getBalance(owner2);\n    const owner1_bal = web3.utils.fromWei(owner1_bal_t);\n    const owner2_bal = web3.utils.fromWei(owner2_bal_t);\n\n    this.setState({ owner1, owner2, owner1_bal, owner2_bal });\n  }\n\n  onSubmit = async (event) => {\n    event.preventDefault();\n\n    // this.setState({ message: \"Waiting on transaction success...\" });\n    this.setState({loading: true, errorMessage: ''});\n\n\n    try {\n\n    // const accounts = await web3.eth.getAccounts();\n        const currentAccount = await web3.givenProvider.selectedAddress;\n\n        await rental.methods.payRental().send({\n          // from: accounts[0],\n          from: currentAccount,\n          value: web3.utils.toWei(this.state.value, \"ether\"),\n        });\n\n        window.location.reload(); //refresh the page -> show the balance\n    } catch (err) {\n      console.log(\"===========>\");\n      console.log(err.message);\n      this.setState({ errorMessage: err.message});\n    }\n\n    //this.setState({ message: \"You have payment your rental!\" });\n    this.setState({loading: false});\n  };\n\n\n  render() {\n    return (\n        <div >\n          <Grid padded>\n            <Grid.Row>\n              <Grid.Column width={10} >\n                <h2>Owners Information</h2>\n                <Table>\n                  <Table.Header>\n                    <Table.Row>\n                      <Table.HeaderCell>Name</Table.HeaderCell>\n                      <Table.HeaderCell>Address</Table.HeaderCell>\n                      <Table.HeaderCell>Balance(Ether)</Table.HeaderCell>\n                    </Table.Row>\n                  </Table.Header>\n                  <Table.Body>\n                    <Table.Row>\n                      <Table.Cell>Owner1</Table.Cell>\n                      <Table.Cell>{this.state.owner1}</Table.Cell>\n                      <Table.Cell>{this.state.owner1_bal}</Table.Cell>\n                    </Table.Row>\n                    <Table.Row>\n                      <Table.Cell>Owner2</Table.Cell>\n                      <Table.Cell>{this.state.owner2}</Table.Cell>\n                      <Table.Cell>{this.state.owner2_bal}</Table.Cell>\n                    </Table.Row>\n                  </Table.Body>\n                </Table>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column width={10}>\n                <h2>Pay Rental</h2>\n                <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\n                  <Form.Field>\n                    <label>Value</label>\n                    <Input\n                        value={this.state.value}\n                        label=\"ether\"\n                        labelPosition=\"right\"\n                        onChange={(event) => this.setState({ value: event.target.value })}\n                    />\n                  </Form.Field>\n                  <Message error header=\"Oops!\" content={this.state.errorMessage}/>\n                  <Button primary loading={this.state.loading}>Pay!</Button>\n                </Form>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n\n        </div>\n    );\n  }\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}